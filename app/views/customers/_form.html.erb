<% content_for :header_tags do %>
  <%= stylesheet_link_tag 'form', :plugin => :customer_plugin %> 
<% end %>

<%= error_messages_for 'customer' %>

<div class="box"> 
  <p>
    <%= f.text_field 'name', :required => true -%>
  </p>
  <p>
    <%= f.text_field 'cpf' -%>
  </p>
  <p>
    <%= f.text_field 'rg' -%>

    <%= label_tag 'customer_rg_expeditor', l(:field_rg_expeditor), :class => 'left' -%>
    <%= f.text_field 'rg_expeditor', :no_label => true -%>
  </p>
  <p>
    <%= f.text_area 'address', :label => :field_address, :rows => 5 -%>
  </p>
  <p>
    <%= f.text_field 'rg_expeditor' -%>
  </p>
  <p>
    <%= f.select 'neighborhood_id', Neighborhood.all.collect {|n| [n.name, n.id]} -%>
  </p>
  <p>
    <%= f.text_field 'number' -%>
  </p>
  <p>
    <%= f.text_field 'residential_phone' -%>
  </p>
  <p>
    <%= f.text_field 'mobile_phone' -%>
  </p>
  <p>
    <%= f.text_field 'email', :label => :field_email -%>
  </p>
  <p>
    <%= f.date_select 'birthday', :label => :field_birthday, :start_year => 1920, :end_year => Time.now.year, :include_blank => true -%>
  </p>
  <p>
    <%= f.select 'gender', 
      [
        [ l(:field_gender_male), :male],
        [ l(:field_gender_female), :female]
      ],
      :label => :field_gender -%>
  </p>
  <p>
    <%= f.select 'favorite_contact', 
      [
        [ l(:field_favorite_contact_email), :email],
        [ l(:field_favorite_contact_phone), :phone],
        [ l(:field_favorite_contact_mail), :mail]
      ],
      :label => :field_favorite_contact -%>
  </p>
</div>

<%= javascript_include_tag "http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" %>
<%= javascript_include_tag "jquery.validate.js", :plugin => "customer_plugin" %>
<%= javascript_include_tag "jquery.maskedinput.js", :plugin => "customer_plugin" %>
<% javascript_tag do %>
  jQuery.noConflict();
  jQuery(document).ready(function() {
    jQuery('#customer_cpf').mask('999.999.999-99')

    jQuery('#main form').validate({
      rules: {
        'customer[name]': 'required',
        'customer[cpf]': 'cpf'
      },
      messages: {
        'customer[name]': 'Informe um nome',
        'customer[cpf]': 'Informe um CPF v√°lido'
      },
      errorElement: 'span'
    });
  });
<% end %>

